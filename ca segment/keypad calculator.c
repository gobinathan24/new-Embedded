#include<pic.h>
#define _XTAL_FREQ 400000
void pulse()
{
RB2=1;
__delay_ms(1000);
RB2=0;
__delay_ms(1000);
}
void type()
{
RB0=0;RB1=0;
PORTA=0X30;
pulse();
}
void on()
{
RB0=0;RB1=0;
PORTA=0X0E;
pulse();
}
void address()
{
RB0=0;RB1=0;
PORTA=0X80;
pulse();
}
void display(int a)
{
RB0=1;RB1=0;
PORTA=a;
pulse();
}
void main()
{
TRISA=0X00;
PORTA=0X00;
TRISC=0X78;
PORTC=0X00;
TRISB=0X00;
PORTB=0X00;
ANSEL=0X00;
ANSELH=0X00;
on();
type();
while(1)
{
RC1=0;RC2=0;RC0=1;
if(RC3==1)
{
address();
display(0x31);
}
if(RC4==1)
{
address();
display(0x34);
}
if(RC5==1)
{
address();
display(0x37);
}
if(RC6==1)
{
address();
display(0x2a);
}
RC0=0;RC2=0;RC1=1;
if(RC3==1)
{
address();
display(0x32);
}
if(RC4==1)
{
address();
display(0x35);
}
if(RC5==1)
{
address();
display(0x38);
}
if(RC6==1)
{
address();
display(0x30);
}
RC1=0;RC0=0;RC2=1;
if(RC3==1)
{
address();
display(0x33);
}
if(RC4==1)
{
address();
display(0x36);
}
if(RC5==1)
{
address();
display(0x39);
}
if(RC6==1)
{
address();
display(0x23);
}
}
}
